import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Settings, CreditCard, Banknote, Calendar, Clock, CheckCircle2, Circle } from 'lucide-react';
import { useLanguage } from '../i18n';
const BillConfiguration = ({ config, onChange, tariffConfig, onViewReport }) => {
    const { t, translateMonth } = useLanguage();
    const handleChange = (key) => (e) => {
        // Prevent NaN by defaulting to 0 if parsing fails
        const val = e.target.type === 'number' ? (parseFloat(e.target.value) || 0) : e.target.value;
        onChange(key, val);
    };
    const handleFocus = (e) => {
        e.target.select();
    };
    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
    return (_jsxs("div", { className: "bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 print-break-inside-avoid transition-colors duration-200", children: [_jsx("div", { className: "flex items-center justify-between mb-6 border-b border-slate-100 dark:border-slate-800 pb-4", children: _jsxs("div", { className: "flex items-center gap-2", children: [_jsx(Settings, { className: "w-5 h-5 text-indigo-600 dark:text-indigo-400" }), _jsx("h2", { className: "text-lg font-semibold text-slate-800 dark:text-slate-100", children: t('costs_configuration') })] }) }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: [_jsxs("div", { className: "col-span-1 md:col-span-2 lg:col-span-3 grid grid-cols-2 gap-4 bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2", children: t('bill_month') }), _jsx("select", { value: config.month, onChange: handleChange('month'), className: "w-full rounded-lg border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white text-sm focus:border-indigo-500 focus:ring-indigo-500 shadow-sm", children: months.map(m => (_jsx("option", { value: m, children: translateMonth(m) }, m))) })] }), _jsxs("div", { children: [_jsxs("label", { className: "block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2 flex items-center gap-1", children: [t('date_generated'), " ", _jsx(Calendar, { className: "w-3 h-3" })] }), _jsx("input", { type: "date", value: config.dateGenerated, onChange: handleChange('dateGenerated'), className: "w-full rounded-lg border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white text-sm focus:border-indigo-500 focus:ring-indigo-500 shadow-sm color-scheme-dark" })] })] }), _jsxs("div", { className: "bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm", children: [_jsx("label", { className: "block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2 flex items-center justify-between", children: _jsxs("span", { className: "flex items-center gap-1", children: [t('total_bill_payable'), " ", _jsx(Banknote, { className: "w-3 h-3" })] }) }), _jsxs("div", { className: "relative", children: [_jsx("input", { type: "number", min: "0", value: config.totalBillPayable, onChange: handleChange('totalBillPayable'), onFocus: handleFocus, className: "w-full rounded-lg border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 focus:border-indigo-500 focus:ring-indigo-500 text-xl font-bold text-slate-900 dark:text-white pr-8 shadow-sm" }), _jsx("span", { className: "absolute right-3 top-3.5 text-xs text-slate-400 font-bold pointer-events-none", children: "\u09F3" })] })] }), _jsxs("div", { className: `p-4 rounded-xl border transition-all duration-200 flex flex-col justify-center cursor-pointer shadow-sm ${config.includeBkashFee ? 'border-indigo-300 dark:border-indigo-700 bg-slate-50 dark:bg-slate-800/50' : 'bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 hover:border-indigo-200 dark:hover:border-slate-600'}`, onClick: () => onChange('includeBkashFee', !config.includeBkashFee), children: [_jsxs("label", { className: `block text-xs font-bold uppercase mb-2 flex items-center gap-1 cursor-pointer transition-colors ${config.includeBkashFee ? 'text-indigo-600 dark:text-indigo-400' : 'text-slate-500 dark:text-slate-400'}`, children: [t('bkash_fee'), " ", _jsx(CreditCard, { className: "w-3 h-3" })] }), _jsxs("div", { className: "flex items-center gap-2", children: [config.includeBkashFee ? (_jsx(CheckCircle2, { className: "w-6 h-6 text-indigo-600 dark:text-indigo-400" })) : (_jsx(Circle, { className: "w-6 h-6 text-slate-400 dark:text-slate-600" })), _jsx("span", { className: `text-sm font-semibold transition-colors ${config.includeBkashFee ? 'text-slate-900 dark:text-white' : 'text-slate-500 dark:text-slate-500'}`, children: config.includeBkashFee ? `Included (+${tariffConfig.bkashCharge})` : 'Not Applicable' })] })] }), _jsxs("div", { className: `p-4 rounded-xl border transition-all duration-200 flex flex-col justify-center cursor-pointer shadow-sm ${config.includeLateFee ? 'border-indigo-300 dark:border-indigo-700 bg-slate-50 dark:bg-slate-800/50' : 'bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 hover:border-indigo-200 dark:hover:border-slate-600'}`, onClick: () => onChange('includeLateFee', !config.includeLateFee), children: [_jsxs("label", { className: `block text-xs font-bold uppercase mb-2 flex items-center gap-1 cursor-pointer transition-colors ${config.includeLateFee ? 'text-indigo-600 dark:text-indigo-400' : 'text-slate-500 dark:text-slate-400'}`, children: [t('late_fee'), " ", _jsx(Clock, { className: "w-3 h-3" })] }), _jsxs("div", { className: "flex items-center gap-2", children: [config.includeLateFee ? (_jsx(CheckCircle2, { className: "w-6 h-6 text-indigo-600 dark:text-indigo-400" })) : (_jsx(Circle, { className: "w-6 h-6 text-slate-400 dark:text-slate-600" })), _jsx("span", { className: `text-sm font-semibold transition-colors ${config.includeLateFee ? 'text-slate-900 dark:text-white' : 'text-slate-500 dark:text-slate-500'}`, children: config.includeLateFee ? 'Included (VAT Total)' : 'Not Applicable' })] })] })] })] }));
};
export default BillConfiguration;
